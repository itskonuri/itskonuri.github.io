<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª©í‘œ íƒ€ìˆ˜ íƒ€ì ì—°ìŠµê¸°</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 2rem auto; }
    textarea, input, button { width: 100%; margin: 0.5rem 0; }
    #testText { padding: 1rem; background: #f0f0f0; white-space: pre-wrap; }
    #result { margin-top: 1rem; font-weight: bold; }
  </style>
</head>
<body>

  <h1>ëª©í‘œ íƒ€ìˆ˜ ì„¤ì •</h1>
  
  <label>ëª©í‘œ íƒ€ìˆ˜(í‚¤ìŠ¤íŠ¸ë¡œí¬):</label>
  <input type="number" id="targetStrokes" value="600" min="1" />
  
  <label>ë¬¸ì¥ ì„ íƒ</label>
  <select id="presetSelect">
    <option value="0">â€” ì˜ˆì‹œ ë¬¸ì¥ ì„ íƒ â€”</option>
    <option value="1">â€œë´„ì´ ì˜¤ë©´ ê½ƒì´ í”¼ê³  ìƒˆë“¤ì´ ë…¸ë˜í•œë‹¤.â€</option>
    <option value="2">â€œí•œê¸€ì€ ê³¼í•™ì ì¸ ê¸€ì ì²´ê³„ë¡œ ì•Œë ¤ì ¸ ìˆë‹¤.â€</option>
    <option value="3">â€œì˜¤ëŠ˜ì˜ ë‚ ì”¨ëŠ” ë§‘ê³  ê¸°ì˜¨ì€ 18ë„ì…ë‹ˆë‹¤.â€</option>
  </select>
  
  <label>í˜¹ì€ ì§ì ‘ ì…ë ¥</label>
  <textarea id="customText" rows="3" placeholder="ì§ì ‘ ì“°ê³  ì‹¶ì€ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
  
  <button id="startBtn">ì—°ìŠµ ì‹œì‘</button>
  
  <div id="testText"></div>
  <textarea id="inputArea" rows="5" placeholder="ì—¬ê¸°ì— íƒ€ì´í•‘í•˜ì„¸ìš”â€¦" disabled></textarea>
  
  <div id="result"></div>

  <script>
    const presets = {
      1: 'ë´„ì´ ì˜¤ë©´ ê½ƒì´ í”¼ê³  ìƒˆë“¤ì´ ë…¸ë˜í•œë‹¤.',
      2: 'í•œê¸€ì€ ê³¼í•™ì ì¸ ê¸€ì ì²´ê³„ë¡œ ì•Œë ¤ì ¸ ìˆë‹¤.',
      3: 'ì˜¤ëŠ˜ì˜ ë‚ ì”¨ëŠ” ë§‘ê³  ê¸°ì˜¨ì€ 18ë„ì…ë‹ˆë‹¤.'
    };
    let startTime, strokeCount, target;
    
    document.getElementById('startBtn').onclick = () => {
      // 1) ëª©í‘œê°’ ì„¸íŒ…
      target = parseInt(document.getElementById('targetStrokes').value, 10) || 0;
      if (target <= 0) return alert('ëª©í‘œ íƒ€ìˆ˜ë¥¼ 1 ì´ìƒìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”.');
      
      // 2) í…ìŠ¤íŠ¸ ê²°ì •
      const sel = document.getElementById('presetSelect').value;
      const txt = sel && presets[sel]
                ? presets[sel]
                : document.getElementById('customText').value.trim();
      if (!txt) return alert('ì˜ˆì‹œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”.');
      
      // 3) UI ì´ˆê¸°í™”
      document.getElementById('testText').textContent = txt;
      const input = document.getElementById('inputArea');
      input.value = '';
      input.disabled = false;
      input.focus();
      document.getElementById('result').textContent = '';
      
      // 4) ì¹´ìš´í„° & ì‹œê°„ ì´ˆê¸°í™”
      strokeCount = 0;
      startTime = performance.now();
    };
    
    document.getElementById('inputArea').addEventListener('keydown', e => {
      // ë°±ìŠ¤í˜ì´ìŠ¤ ë“± ì œì™¸í•˜ë ¤ë©´ e.key.length === 1 ê°™ì€ í•„í„°ë¥¼ ì¶”ê°€í•´ë„ ë©ë‹ˆë‹¤.
      strokeCount++;
      if (strokeCount >= target) {
        const elapsedMs = performance.now() - startTime;
        const elapsedMin = elapsedMs / 1000 / 60;
        const strokesPerMin = (strokeCount / elapsedMin).toFixed(1);
        const wpm = (strokesPerMin / 5).toFixed(1);
        
        document.getElementById('result').innerHTML =
          `â± ê±¸ë¦° ì‹œê°„: ${(elapsedMs/1000).toFixed(1)}ì´ˆ<br>` +
          `âŒ¨ï¸ íƒ€ìˆ˜ ì†ë„: ${strokesPerMin} keystrokes/min<br>` +
          `ğŸ“„ í™˜ì‚° WPM: ${wpm} ë‹¨ì–´/ë¶„`;
        
        // ìë™ ì¢…ë£Œ
        e.target.disabled = true;
      }
    });
  </script>

</body>
</html>
